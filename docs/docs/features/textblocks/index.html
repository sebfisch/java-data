<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Text Blocks #  Text Blocks provide a new way to write string literals in Java. They have nothing to do with algebraic datatypes or pattern matching, but we mention them anyway to complete our tour of new language features in Java 17 introduced by Project Amber since the previous LTS release.
Here is a definition from my solution to the Advent of Code task that uses a text block for the example input.">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="Text Blocks" />
<meta property="og:description" content="Text Blocks #  Text Blocks provide a new way to write string literals in Java. They have nothing to do with algebraic datatypes or pattern matching, but we mention them anyway to complete our tour of new language features in Java 17 introduced by Project Amber since the previous LTS release.
Here is a definition from my solution to the Advent of Code task that uses a text block for the example input." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://sebfisch.github.io/java-data/docs/features/textblocks/" /><meta property="article:section" content="docs" />

<meta property="article:modified_time" content="2022-01-06T01:08:57+01:00" />

<title>Text Blocks | Java Data</title>
<link rel="manifest" href="/java-data/manifest.json">
<link rel="icon" href="/java-data/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/java-data/book.min.46181bc93375ba932026e753b37c40e6ff8bb16a9ef770c78bcc663e4577b1ba.css" integrity="sha256-RhgbyTN1upMgJudTs3xA5v&#43;LsWqe93DHi8xmPkV3sbo=" crossorigin="anonymous"><!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/java-data/"><span>Java Data</span>
  </a>
</h2>













  



  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/background/" class="">Background</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/background/data/" class="">Algebraic Datatypes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/background/patterns/" class="">Pattern Matching</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/features/" class="">New Features</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/features/sealed/" class="">Sealed Classes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/features/records/" class="">Records</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/features/instanceof/" class="">Pattern Matching for instanceof</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/features/switch/" class="">Switch Expressions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/features/switchpatterns/" class="">Pattern Matching for switch</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/features/recordpatterns/" class="">Record Patterns</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/features/textblocks/" class=" active">Text Blocks</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/tasks/" class="">Programming Tasks</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/links/" class="">External Links</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/java-data/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Text Blocks</strong>

  <label for="toc-control">
    
    <img src="/java-data/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents"></nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="text-blocks">
  Text Blocks
  <a class="anchor" href="#text-blocks">#</a>
</h1>
<p><a href="https://openjdk.java.net/jeps/378">Text Blocks</a>
provide a new way to write string literals in Java.
They have nothing to do with algebraic datatypes or pattern matching,
but we mention them anyway to complete our tour
of new language features in Java 17 introduced by
<a href="https://openjdk.java.net/projects/amber/">Project Amber</a>
since the previous LTS release.</p>
<p>Here is a definition from my solution to the
<a href="../records/#task-3-solve-advent-of-code-task">Advent of Code task</a>
that uses a text block for the example input.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">static</span> Stream<span style="color:#f92672">&lt;</span>Command<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">exampleInput</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span>
            <span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">            forward 5
</span><span style="color:#e6db74">            down 5
</span><span style="color:#e6db74">            forward 8
</span><span style="color:#e6db74">            up 3
</span><span style="color:#e6db74">            down 8
</span><span style="color:#e6db74">            forward 2
</span><span style="color:#e6db74">            &#34;&#34;&#34;</span><span style="color:#f92672">.</span><span style="color:#a6e22e">lines</span><span style="color:#f92672">().</span><span style="color:#a6e22e">map</span><span style="color:#f92672">(</span>Command<span style="color:#f92672">::</span>parse<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
</code></pre></div><p>Text blocks allow to write multi-line strings
without escape sequences and string concatenation.
They are delimited by <code>&quot;&quot;&quot;</code> and can contain <code>&quot;</code> characters without escaping them.
Incidental whitespace is stripped from the beginnings of all lines automatically.
It is basically the longest common whitespace prefix of all lines in the text block.</p>
<p>A new escape sequence consisting of <code>\</code> and a line terminator
can be used in text blocks to avoid introducing newline characters.
The new escape sequence <code>\s</code> for a space character can be used
at the end of lines in text blocks
to create lines with spaces at the end.
Trailing whitespace characters that are not written using escape sequences
will be removed automatically.</p>
<p>Text blocks can be concatenated just like normal strings,
but doing that gets unwieldy quickly.
Instead of string concatenation,
programmers can use value substitution using the static method <code>String.format</code>
or the new equivalent instance method <code>String.formatted</code>.</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>


 
        <a rel="license" href="http://creativecommons.org/licenses/by-nd/4.0/" target="_blank"
  >&copy; 2022</a>
by
<a href="http://twitter.com/sebfisch" target="_blank">Sebastian Fischer</a>

      </footer>

      
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents"></nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












