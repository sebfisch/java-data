<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Algebraic Datatypes # Algebraic datatypes are a combination of sum types and product types which we discuss next.
Sum types # Sum types are used to represent different variants of values. They are also called variant types or tagged union types. A simple example of a sum type would be a type where corresponding values are limited to one of the three base colors: red, green, and blue.
Types where the number of possible values is finite can be defined as Enum Types in Java.">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="Algebraic Datatypes" />
<meta property="og:description" content="Algebraic Datatypes # Algebraic datatypes are a combination of sum types and product types which we discuss next.
Sum types # Sum types are used to represent different variants of values. They are also called variant types or tagged union types. A simple example of a sum type would be a type where corresponding values are limited to one of the three base colors: red, green, and blue.
Types where the number of possible values is finite can be defined as Enum Types in Java." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://sebfisch.github.io/java-data/docs/background/data/" /><meta property="article:section" content="docs" />

<meta property="article:modified_time" content="2022-01-06T02:15:53+01:00" />
<title>Algebraic Datatypes | Java Data</title>
<link rel="manifest" href="/java-data/manifest.json">
<link rel="icon" href="/java-data/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/java-data/book.min.46181bc93375ba932026e753b37c40e6ff8bb16a9ef770c78bcc663e4577b1ba.css" integrity="sha256-RhgbyTN1upMgJudTs3xA5v&#43;LsWqe93DHi8xmPkV3sbo=" crossorigin="anonymous"><!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/java-data/"><span>Java Data</span>
  </a>
</h2>













  



  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/background/" class="">Background</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/background/data/" class=" active">Algebraic Datatypes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/background/patterns/" class="">Pattern Matching</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/features/" class="">New Features</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/features/sealed/" class="">Sealed Classes</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/features/records/" class="">Records</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/features/instanceof/" class="">Pattern Matching for instanceof</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/features/switch/" class="">Switch Expressions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/features/switchpatterns/" class="">Pattern Matching for switch</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/features/recordpatterns/" class="">Record Patterns</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/features/textblocks/" class="">Text Blocks</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/tasks/" class="">Programming Tasks</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="http://sebfisch.github.io/java-data/docs/links/" class="">External Links</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/java-data/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Algebraic Datatypes</strong>

  <label for="toc-control">
    
    <img src="/java-data/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#sum-types">Sum types</a></li>
    <li><a href="#product-types">Product types</a></li>
    <li><a href="#sums-of-products-and-recursive-types">Sums of products and recursive types</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="algebraic-datatypes">
  Algebraic Datatypes
  <a class="anchor" href="#algebraic-datatypes">#</a>
</h1>
<p>Algebraic datatypes are a combination of sum types and product types
which we discuss next.</p>
<h2 id="sum-types">
  Sum types
  <a class="anchor" href="#sum-types">#</a>
</h2>
<p>Sum types are used to represent different variants of values.
They are also called variant types or tagged union types.
A simple example of a sum type would be a type
where corresponding values are limited to one of the three base colors:
red, green, and blue.</p>
<p>Types where the number of possible values is finite can be defined as
<a href="https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html">Enum Types</a>
in Java.
For example, the following definition represents base colors as an enum.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">enum</span> BaseColor <span style="color:#f92672">{</span> RED<span style="color:#f92672">,</span> GREEN<span style="color:#f92672">,</span> BLUE <span style="color:#f92672">}</span>
</span></span></code></pre></div><p>However, sum types are more general than enum types.
They can be used to define types with an unbounded number of values
which correspond to a finite number of variants.</p>
<p>As a basic example
consider a type for optional values which can be empty or present.
Present optional values contain an arbitrary value.
As a result, the number of optional values is not finite,
so we cannot represent them as an enum in Java.</p>
<p>But we can define a class hierarchy
to represent different variants of optional values.
The following definition (partially) reimplements
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html">Optionals</a>
in Java by defining a corresponding interface
together with two nested classes that implement it
to represent the two variants of optional values.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">BasicOptional</span><span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Empty</span><span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">implements</span> BasicOptional<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#f92672">{}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Present</span><span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">implements</span> BasicOptional<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> T value<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Present</span><span style="color:#f92672">(</span>T value<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">value</span> <span style="color:#f92672">=</span> value<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> T <span style="color:#a6e22e">value</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> value<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>Like <code>Optional</code>, <code>BasicOptional</code> is a
<a href="https://docs.oracle.com/javase/tutorial/java/generics/types.html">Generic Type</a>
with a type parameter for the wrapped values.
In the definitions of the nested classes
we omit definitions for the <code>equals</code>, <code>hashCode</code>, and <code>toString</code> methods
for brevity.</p>
<h2 id="product-types">
  Product types
  <a class="anchor" href="#product-types">#</a>
</h2>
<p>Product types are used to represent values that combine values of multiple types.
Tuple types and record types are examples of product types,
where record types assign names to the different components
and tuple types do not.
As an example for a product type consider a type for RGB colors
combining color values for each of the base colors red, green, and blue.</p>
<p>In Java we can define product types as classes with multiple fields.
For example, the following class represents RGB color values.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">BasicRGBColor</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">double</span> red<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">double</span> green<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">double</span> blue<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">BasicRGBColor</span><span style="color:#f92672">(</span><span style="color:#66d9ef">double</span> red<span style="color:#f92672">,</span> <span style="color:#66d9ef">double</span> green<span style="color:#f92672">,</span> <span style="color:#66d9ef">double</span> blue<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">red</span> <span style="color:#f92672">=</span> red<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">green</span> <span style="color:#f92672">=</span> green<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">blue</span> <span style="color:#f92672">=</span> blue<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">red</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> red<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">green</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> green<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">blue</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> blue<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>The <code>BasicRGBColor</code> class defines three fields for color values
and corresponding methods to access the values of those fields
but no methods to change them.
Again, we omit <code>equals</code>, <code>hashCode</code>, and <code>toString</code> definitions for brevity.</p>
<h2 id="sums-of-products-and-recursive-types">
  Sums of products and recursive types
  <a class="anchor" href="#sums-of-products-and-recursive-types">#</a>
</h2>
<p>Algebraic datatypes are a combination of sum and product types.
They can be used to represent different variants of values
where each variant can combine values of multiple types.</p>
<p>In functional languages it is common practice to define recursive types
where the definition may refer to the defined type
in some of the components of some variants.
As an example for a recursive type that combines sum and product types
consider the following definition for recursive lists.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">BasicRecursiveList</span><span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Empty</span><span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">implements</span> BasicRecursiveList<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#f92672">{}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Populated</span><span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#66d9ef">implements</span> BasicRecursiveList<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> T head<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> BasicRecursiveList<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> tail<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Populated</span><span style="color:#f92672">(</span>T head<span style="color:#f92672">,</span> BasicRecursiveList<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> tail<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">head</span> <span style="color:#f92672">=</span> head<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">tail</span> <span style="color:#f92672">=</span> tail<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> T <span style="color:#a6e22e">head</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> head<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> BasicRecursiveList<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">tail</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> tail<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p><code>BasicRecursiveList</code> is a sum type
because there are variants for empty and populated lists.
<code>Populated</code> is a product type
because there are components for the head and the tail of a populated list.
The definition is recursive
because the nested class <code>Populated</code>
refers to the surrounding type <code>BasicRecursiveList</code> for the tail component.
For brevity, we omit <code>equals</code>, <code>hashCode</code>, and <code>toString</code> methods
in the nested classes.</p>
<p>We have seen that it is possible to define algebraic datatypes in Java
without using any of the features introduced with Java 17.
However, the shown definitions have drawbacks that we will discuss later
and they are quite verbose
even if we omit advisable definitions for <code>equals</code>, <code>hashCode</code>, and <code>toString</code>.</p>
<p>In the next section we discuss
<a href="../patterns">pattern matching</a>
as a concise way to define functions that take arguments of algebraic datatypes.</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        <a rel="license" href="http://creativecommons.org/licenses/by-nd/4.0/" target="_blank"
  >&copy; Sebastian Fischer</a>

      </footer>

      
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#sum-types">Sum types</a></li>
    <li><a href="#product-types">Product types</a></li>
    <li><a href="#sums-of-products-and-recursive-types">Sums of products and recursive types</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












